<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bootstrap demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/2b40017a14.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700&display=swap">

  <link rel="stylesheet" href="index.css">
</head>

<body class="d-flex flex-column align-items-center" style="background-color: #f2f2f2;">
  <nav class="container-fluid fixed-top navbar navbar-expand-lg bg-body-tertiary mb-5">
    <div class="container-fluid text-black col-10 d-flex align-content-center">

        <button class="navbar-toggler border-0 " type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
        aria-label="Toggle navigation">
        <i class="fa-solid fa-bars  "></i>
        </button>

      <a class=" navbar-brand fw-bold col-4" href="index.html"> <span style="color: #99C55B;">Flower</span>
        <span>Shop</span></a>

        <div class="collapse navbar-collapse col-4 " id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto fw-normal">
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="index.html" style="color: #99C55B;">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-black" href="shop.html">Shop</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-black" href="blog.html">Blog</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-black" href="#">About</a>
              </li>
            </ul>

        </div>
        <div class="col-4 d-flex flex-row justify-content-start justify-content-sm-end ">
            <a class="me-3 text-decoration-none" href="cart.html">
              <i class="fas fa-shopping-cart " style="color: #99C55B;"></i>
            </a>

          <a class="me-3 text-decoration-none" href="puzzle.html">
            <i class="fa-solid fa-gamepad" style="color: #99C55B;"></i>
          </a>
        </div>
        <p class="pt-3" id="total-sum">Total Sum: ₸0.00</p>
    </div>
  </nav>

  
  

  <div class="my-5 py-5 list-group col-6" id="cart-list">
  
  </div>







  <button id="scrollToTopBtn" class="btn" onclick="scrollToTop()">Scroll to Top</button>
  <script>

    window.onscroll = function() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        document.getElementById('scrollToTopBtn').style.display = 'block';
      } else {
        document.getElementById('scrollToTopBtn').style.display = 'none';
      }
    };

    // Function to scroll to the top of the page
    function scrollToTop() {
      document.body.scrollTop = 0;
      document.documentElement.scrollTop = 0;
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
          crossorigin="anonymous"></script>
  <script>
    var video = document.querySelector('#carousel-hero video');

    document.getElementById('fullscreen-btn').addEventListener('click', function () {
      if (video.requestFullscreen) {
        video.requestFullscreen();
      } else if (video.mozRequestFullScreen) {
        video.mozRequestFullScreen();
      } else if (video.webkitRequestFullscreen) {
        video.webkitRequestFullscreen();
      } else if (video.msRequestFullscreen) {
        video.msRequestFullscreen();
      }
    });


  </script>

  <footer class="container-fluid text-white bg-dark">
    <div class="container col-10 py-4 py-lg-5">
      <div class="row justify-content-center">
        <div class="col-sm-4 col-md-3 text-center text-lg-start d-flex flex-column item">
          <h3 class="fs-6" href="#"> <span style="color: #99C55B;">Flower</span>
            <span>Shop</span>
          </h3>
          <ul class="list-unstyled">
            <li><a class="link-light" href="index.html">Main</a></li>
            <li><a class="link-light" href="cart.html">Cart</a></li>
          </ul>
        </div>
        <div class="col-sm-4 col-md-3 text-center text-lg-start d-flex flex-column item">
          <h3 class="fs-6 text-white">Navigation</h3>
          <ul class="list-unstyled">
            <li><a class="link-light" href="shop.html">Shop</a></li>
            <li><a class="link-light" href="blog.html">Blog</a></li>
            <li><a class="link-light" href="quizPage.html">Test</a></li>
          </ul>
        </div>


      </div>
      <hr>
      <div class="d-flex justify-content-between align-items-center pt-3">
        <p class="mb-0">Copyright © 2023 Brand</p>
        <ul class="list-inline mb-0">
          <li class="list-inline-item">
            <i class="fa-brands fa-telegram" style="color: #8f949e;"></i>
          </li>
          <li class="list-inline-item">
            <i class="fa-solid fa-envelope" style="color: #8f949e;"></i>
          </li>
          <li class="list-inline-item">
            <i class="fa-solid fa-phone" style="color: #8f949e;"></i>
          </li>
        </ul>
      </div>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
    

    <script>
 document.addEventListener('DOMContentLoaded', function () {
  const cartList = document.getElementById('cart-list');
  const totalSumElement = document.getElementById('total-sum');

  const renderCart = () => {
    const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

    cartList.innerHTML = '';

    let totalSum = 0;

    cartItems.forEach(function (cartProduct, index) {
      const cartItemDiv = document.createElement('div');
      cartItemDiv.classList.add('list-group-item', 'd-flex','flex-column','flex-md-row', 'justify-content-around', 'align-items-center', 'py-5');

      const img = document.createElement('img');
      img.classList.add('img-fluid', 'rounded', 'cart-item-image');
      img.src = cartProduct.activeImageSrc;
      img.alt = 'Slide Image';

      img.style.maxWidth = '140px';
      img.style.maxHeight = '120px';

      const productDetailsDiv = document.createElement('div');
      productDetailsDiv.classList.add('d-flex', 'flex-column', 'col-md-4', 'align-items-center');

      const h4 = document.createElement('h5');
      h4.classList.add('card-title', 'mb-3');
      h4.textContent = cartProduct.cardTitle;

      const priceParagraph = document.createElement('p');
      priceParagraph.classList.add('price', 'mb-1');
      priceParagraph.textContent = `Price: ${cartProduct.price}`;

      const quantityContainer = document.createElement('div');
      quantityContainer.classList.add('quantity-container', 'mb-1');

      const minusBtn = document.createElement('i');
      minusBtn.classList.add('btn', 'btn-light', 'quantity-btn','fa-solid','fa-minus');
      
      const quantityIndicator = document.createElement('span');
      quantityIndicator.classList.add('quantity-indicator');
      let quantity = 1; // Default quantity
      quantityIndicator.textContent = quantity;

      const plusBtn = document.createElement('i');
      plusBtn.classList.add('btn', 'btn-light', 'quantity-btn','fa-solid','fa-plus');

      const totalParagraph = document.createElement('p');
      totalParagraph.classList.add('total', 'mb-3');
      totalParagraph.textContent = `Total: $${(cartProduct.price * quantity).toFixed(2)}`;


      const updateQuantityTotal = () => {
        quantityIndicator.textContent = quantity;
        const productPrice = parseFloat(cartProduct.price.replace(/[^\d.]/g, '')) || 0;
        const total = productPrice * quantity;
        totalParagraph.textContent = `Total: $${total.toFixed(2)}`;
        return total;
      };


      minusBtn.addEventListener('click', function () {
        if (quantity > 1) {
          quantity -= 1;
          totalSum -= updateQuantityTotal();
          updateTotalSum();
        }
      });

      plusBtn.addEventListener('click', function () {
        quantity += 1;
        totalSum += updateQuantityTotal();
        updateTotalSum();
      });


      totalSum += updateQuantityTotal();

      const removeBtn = document.createElement('button');
      removeBtn.classList.add('btn', 'btn-danger', 'remove-from-cart-btn');
      removeBtn.textContent = 'Remove from Cart';
      removeBtn.addEventListener('click', function () {
        totalSum -= updateQuantityTotal();


        cartItems.splice(index, 1);


        localStorage.setItem('cartItems', JSON.stringify(cartItems));

        renderCart();
      });

      productDetailsDiv.appendChild(h4);
      productDetailsDiv.appendChild(priceParagraph);

      quantityContainer.appendChild(minusBtn);
      quantityContainer.appendChild(quantityIndicator);
      quantityContainer.appendChild(plusBtn);

      productDetailsDiv.appendChild(quantityContainer);
      productDetailsDiv.appendChild(totalParagraph);

      cartItemDiv.appendChild(img);
      cartItemDiv.appendChild(productDetailsDiv);
      cartItemDiv.appendChild(removeBtn);

      cartList.appendChild(cartItemDiv);
    });


    totalSumElement.textContent = `Total Sum: $${totalSum.toFixed(2)}`;
  };

  const updateTotalSum = () => {
    let totalSum = 0;

    const totalParagraphs = document.querySelectorAll('.total');
    totalParagraphs.forEach((totalParagraph) => {
      const productTotal = parseFloat(totalParagraph.textContent.replace(/[^\d.]/g, '')) || 0; // Handle NaN or non-numeric values
      totalSum += productTotal;
    });

    totalSumElement.textContent = `Total Sum: ₸${totalSum.toFixed(2)}`;
  };

  renderCart();
});




      </script>

      
      
    
</body>

</html>